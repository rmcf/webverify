(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{8041:function(t,e,a){"use strict";a("cb9a")},"8b24":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"div-container"},[a("div",{staticClass:"q-pa-sm",staticStyle:{"margin-bottom":"5rem"}},[a("q-card",[a("q-card-section",{staticClass:"bg-amber-5 text-grey-9"},[a("div",{staticClass:"text-h5"},[t._v("Upload signed document")]),a("div",{staticClass:"text-subtitle3"},[t._v("allowed formats: PDF, ODT, ZIP")])]),a("q-card-section",{staticClass:"q-pa-lg"},[a("div",[a("q-file",{attrs:{color:"primary",clearable:"",label:"Upload file"},on:{input:t.quasarFileInput},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"attach_file"}})]},proxy:!0}]),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),a("div",{staticClass:"row justify-end",staticStyle:{height:"50px"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[a("q-btn",{staticClass:"q-ml-sm q-mt-md",attrs:{flat:"",disable:""}},[a("img",{attrs:{src:"/webverify/img/spinner.gif",alt:"spinner",height:"30px"}})])],1),a("span",[a("q-btn",{staticClass:"q-ml-sm q-mt-md",attrs:{disable:!t.query.signedDocument.bytes,label:"Verify",color:"primary"},on:{click:t.postDocumentAxios}}),t.query.signedDocument.bytes?t._e():a("q-tooltip",{attrs:{"content-style":"font-size: 14px"}},[t._v("\n              Please upload file\n            ")])],1)])])],1),a("transition-group",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.answer?a("q-card",{key:"card-response",staticClass:"margin-top"},[a("q-card-section",{staticClass:"bg-blue-5 text-white"},[a("div",{staticClass:"text-h5"},[t._v("Validation results")]),a("div",{staticClass:"text-subtitle3"},[t._v("Simple Report")])]),a("q-card-section",{staticClass:"section-padding"},[a("div",{staticClass:"q-mb-md"},[a("q-card",{attrs:{flat:"",bordered:""}},[a("q-card-section",{staticClass:"text-body1"},[t._v("\n                Validation Policy :\n                "+t._s(t.answer.ValidationPolicy.PolicyName)+"\n              ")]),a("q-separator",{attrs:{inset:""}}),a("q-card-section",[t._v("\n                "+t._s(t.answer.ValidationPolicy.PolicyDescription)+"\n              ")])],1)],1),t.answer.signatureOrTimestamp?a("div",t._l(t.answer.signatureOrTimestamp,(function(e,s){return a("div",{key:e.Signature.Id,staticClass:"q-mb-md"},[a("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},[a("q-expansion-item",{staticClass:"overflow-hidden",staticStyle:{"border-radius":"4px"},attrs:{"header-class":t.signatureColor(e.Signature.Indication),"expand-icon-class":"text-black","expand-separator":"",icon:t.signatureIcon(e.Signature.Indication),label:"Signature "+(s+1)}},[a("q-card",[a("q-card-section",[a("q-markup-table",{staticClass:"signature-data",attrs:{flat:"",dense:"",separator:"none"}},[a("tbody",[a("tr",[a("td",{staticClass:"text-left"},[t._v("\n                              Qualification:\n                            ")]),a("td",{staticClass:"text-left"},[t._v("\n                              "+t._s(e.Signature.SignatureLevel.value)+"\n                              "),a("span",[a("q-icon",{staticClass:"text-teal",attrs:{name:"info_outline",size:"sm"}}),a("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale","content-style":"font-size: 12px"}},[t._v("\n                                  "+t._s(e.Signature.SignatureLevel.description)+"\n                                ")])],1)])]),a("tr",[a("td",{staticClass:"text-left"},[t._v("Signature format:")]),a("td",{staticClass:"text-left"},[t._v("\n                              "+t._s(e.Signature.SignatureFormat)+"\n                            ")])]),e.Signature.Indication?a("tr",[a("td",{staticClass:"text-left"},[t._v("Indication:")]),a("td",{staticClass:"text-left"},[a("q-chip",{attrs:{dense:"",square:"",color:t.signatureIndication(e.Signature.Indication),"text-color":"white",icon:t.signatureIcon(e.Signature.Indication)}},[t._v("\n                                "+t._s(e.Signature.Indication)+"\n                              ")])],1)]):t._e(),e.Signature.SubIndication?a("tr",[a("td",{staticClass:"text-left"},[t._v("Sub indication:")]),a("td",{staticClass:"text-left"},[a("q-chip",{attrs:{dense:"",square:"",color:t.signatureIndication(e.Signature.Indication),"text-color":"white"}},[t._v("\n                                "+t._s(e.Signature.SubIndication)+"\n                              ")])],1)]):t._e(),e.Signature.Errors.length>0?a("tr",[a("td",{staticClass:"text-left"},[t._v("Errors:")]),a("td",{staticClass:"text-left text-red-9"},t._l(e.Signature.Errors,(function(e,s){return a("div",{key:s},[t._v("\n                                "+t._s(e)+"\n                              ")])})),0)]):t._e(),e.Signature.Warnings.length>0?a("tr",[a("td",{staticClass:"text-left"},[t._v("Warnings:")]),a("td",{staticClass:"text-left text-orange-10"},t._l(e.Signature.Warnings,(function(e,s){return a("div",{key:s},[t._v("\n                                "+t._s(e)+"\n                              ")])})),0)]):t._e(),a("tr",[a("td",{staticClass:"text-left"},[t._v("Certificate Chain:")]),a("td",{staticClass:"text-left"},t._l(e.Signature.CertificateChain.Certificate,(function(e,s){return a("div",{key:s},[a("q-icon",{staticClass:"text-grey-9",attrs:{name:"link",size:"sm"}}),t._v("\n                                "+t._s(e.qualifiedName)+"\n                              ")],1)})),0)]),a("tr",[a("td",{staticClass:"text-left"},[t._v("On claimed time:")]),a("td",{staticClass:"text-left"},[t._v("\n                              "+t._s(e.Signature.SigningTime)+"\n                            ")])]),a("tr",[a("td",{staticClass:"text-left"},[t._v("Best signature time:")]),a("td",{staticClass:"text-left"},[t._v("\n                              "+t._s(e.Signature.BestSignatureTime)+"\n                              "),a("span",[a("q-icon",{staticClass:"text-teal",attrs:{name:"info_outline",size:"sm"}}),a("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale","content-style":"font-size: 12px"}},[t._v("\n                                  Lowest time at which there exists a proof of\n                                  existence for the signature\n                                ")])],1)])]),a("tr",[a("td",{staticClass:"text-left"},[t._v("Signature position:")]),a("td",{staticClass:"text-left"},[t._v("\n                              "+t._s(s+1)+" out of\n                              "+t._s(t.answer.signatureOrTimestamp.length)+"\n                            ")])]),t._l(e.Signature.SignatureScope,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"text-left"},[t._v("Signature scope:")]),a("td",{staticClass:"text-left"},[a("div",[t._v("\n                                "+t._s(e.name)+" ("+t._s(e.scope)+")\n                              ")]),a("div",[t._v(t._s(e.value))])])])}))],2)])],1)],1)],1)],1)],1)})),0):t._e(),a("div",{staticClass:"q-mb-md"},[a("q-card",{attrs:{flat:"",bordered:""}},[a("q-card-section",{staticClass:"text-body1"},[t._v("\n                Document Information\n              ")]),a("q-separator",{attrs:{inset:""}}),a("q-card-section",[a("q-markup-table",{staticClass:"signature-data",attrs:{flat:"",dense:"",separator:"none"}},[a("tbody",[a("tr",[a("td",{staticClass:"text-left"},[t._v("Signatures status:")]),a("td",{staticClass:"text-left"},[t._v("\n                        "+t._s(t.answer.ValidSignaturesCount)+" valid signatures,\n                        out of\n                        "+t._s(t.answer.SignaturesCount)+"\n                      ")])]),a("tr",[a("td",{staticClass:"text-left"},[t._v("Document name:")]),a("td",{staticClass:"text-left"},[t._v(t._s(t.answer.DocumentName))])])])])],1)],1)],1)])],1):t._e()],1)],1)])},n=[],i=(a("e6cf"),a("5319"),a("2b0e")),r=a("bc3a"),l=a.n(r),o=a("760d"),c={name:"PageIndex",data(){return{answer:null,model:null,loading:!1,query:{signedDocument:{bytes:"",digestAlgorithm:null,name:null},policy:null,signatureId:null}}},methods:{readFileAsync(t){return new Promise(((e,a)=>{let s=new FileReader;s.onload=()=>{e(s.result)},s.onerror=a,s.readAsDataURL(t)}))},async quasarFileInput(t){if(this.loading=!0,this.answer=null,t){let e=await this.readFileAsync(t),a=String(e),s=a.replace(/^.*,/i,"");this.query.signedDocument.bytes=s,this.query.signedDocument.name=t.name}else this.query.signedDocument.bytes=null,this.query.signedDocument.name=null;this.loading=!1},async postDocumentAxios(){await this.$recaptchaLoaded();let t=await this.$recaptcha("login");this.query.token=t,this.loading=!0;const e="https://webapp.edoc.link/dss-webapp/services/rest/validation/validateSignature";await l.a.post(e,this.query).then((t=>{this.answer=t.data.SimpleReport}),(t=>{console.log(t)})),this.loading=!1},signatureIndication(t){switch(t){case"TOTAL_FAILED":return"red";case"INDETERMINATE":return"orange";case"TOTAL_PASSED":return"teal";default:return"grey"}},signatureIcon(t){switch(t){case"TOTAL_FAILED":return"highlight_off";case"INDETERMINATE":return"error_outline";case"TOTAL_PASSED":return"check_circle_outline";default:return"link"}},signatureBackgroundColor(t){switch(t){case"TOTAL_FAILED":return"bg-red-1";case"INDETERMINATE":return"bg-orange-1";case"TOTAL_PASSED":return"bg-blue-grey-1";default:return"bg-grey"}},signatureColor(t){switch(t){case"TOTAL_FAILED":return"text-red-9 bg-grey-1";case"INDETERMINATE":return"text-orange-9 bg-grey-1";case"TOTAL_PASSED":return"text-green-9 bg-grey-1";default:return"text-grey-9 bg-grey-1"}}},mounted(){i["a"].use(o["VueReCaptcha"],{siteKey:"6LfjdJgaAAAAAOG_aYerexEOyLJ-CUHrooALUgg8"})}},d=c,u=(a("8041"),a("2877")),g=a("9989"),m=a("f09f"),p=a("a370"),_=a("7d53"),f=a("0016"),v=a("9c40"),C=a("05c0"),b=a("eb85"),x=a("1c1c"),h=a("3b73"),y=a("2bb1"),q=a("b047"),S=a("ee89"),w=a("eebe"),I=a.n(w),A=Object(u["a"])(d,s,n,!1,null,null,null);e["default"]=A.exports;I()(A,"components",{QPage:g["a"],QCard:m["a"],QCardSection:p["a"],QFile:_["a"],QIcon:f["a"],QBtn:v["a"],QTooltip:C["a"],QSeparator:b["a"],QList:x["a"],QExpansionItem:h["a"],QMarkupTable:y["a"],QChip:q["a"],QUploader:S["a"]})},cb9a:function(t,e,a){}}]);